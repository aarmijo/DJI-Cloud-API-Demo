
## File Introduction

The `template.kml` file consists of three parts:

1. Creation information: It mainly contains the information of the route file itself, such as the creation and update time of the file.
2. Mission information: mainly includes the `wpml:missionConfig` element, which defines the global parameters of the route mission, etc.
3. Template information: It mainly contains the `Folder` element, which defines the template information of the route (such as waypoint flight, mapping, oblique photography, and linear flight, etc.). Different route template types contain different elements.

### File Sample

The example file of `template.kml` is as follows (take the waypoint flight template as an example):

```xml
<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2" xmlns:wpml="http://www.dji.com/wpmz/1.0.2">
<Document>

  <!-- Step 1: Implement File Creation Information -->
  <wpml:author>Name</wpml:author>
  <wpml:createTime>1637600807044</wpml:createTime>
  <wpml:updateTime>1637600875837</wpml:updateTime>
 
  <!-- Step 2: Setup Mission Configuration -->
  <wpml:missionConfig>
    <wpml:flyToWaylineMode>safely</wpml:flyToWaylineMode>
    <wpml:finishAction>goHome</wpml:finishAction>
    <wpml:exitOnRCLost>goContinue</wpml:exitOnRCLost>
    <wpml:executeRCLostAction>hover</wpml:executeRCLostAction>
    <wpml:takeOffSecurityHeight>20</wpml:takeOffSecurityHeight>
    <wpml:takeOffRefPoint>23.98057,115.987663,100</wpml:takeOffRefPoint>
    <wpml:takeOffRefPointAGLHeight>35</wpml:takeOffRefPointAGLHeight>
    <wpml:globalTransitionalSpeed>8</wpml:globalTransitionalSpeed>
    <wpml:droneInfo>
      <!-- Declare drone model with M30 -->
      <wpml:droneEnumValue>67</wpml:droneEnumValue>
      <wpml:droneSubEnumValue>0</wpml:droneSubEnumValue>
    </wpml:droneInfo>
    <wpml:payloadInfo>
      <!-- Declare payload model with M30 -->
      <wpml:payloadEnumValue>52</wpml:payloadEnumValue>
      <wpml:payloadPositionIndex>0</wpml:payloadPositionIndex>
    </wpml:payloadInfo>
  </wpml:missionConfig>
 
  <!-- Step 3: Setup A Folder for Waypoint Template -->
  <Folder>
    <wpml:templateType>waypoint</wpml:templateType>
    <wpml:templateId>0</wpml:templateId>
    <wpml:waylineCoordinateSysParam>
      <wpml:coordinateMode>WGS84</wpml:coordinateMode>
      <wpml:heightMode>EGM96</wpml:heightMode>
      <wpml:globalShootHeight>50</wpml:globalShootHeight>
      <wpml:positioningType>GPS</wpml:positioningType>
      <wpml:surfaceFollowModeEnable>1</wpml:surfaceFollowModeEnable>
      <wpml:surfaceRelativeHeight>100</wpml:surfaceRelativeHeight>
    </wpml:waylineCoordinateSysParam>
    <wpml:autoFlightSpeed>7</wpml:autoFlightSpeed>
    <wpml:gimbalPitchMode>usePointSetting</wpml:gimbalPitchMode>
    <wpml:globalWaypointHeadingParam>
      <wpml:waypointHeadingMode>followWayline</wpml:waypointHeadingMode>
      <wpml:waypointHeadingAngle>45</wpml:waypointHeadingAngle>
      <wpml:waypointPoiPoint>24.323345,116.324532,31.000000</wpml:waypointPoiPoint>
      <wpml:waypointHeadingPathMode>clockwise</wpml:waypointHeadingPathMode>
    </wpml:globalWaypointHeadingParam>
    <wpml:globalWaypointTurnMode>toPointAndStopWithDiscontinuityCurvature</wpml:globalWaypointTurnMode>
    <wpml:globalUseStraightLine>0</wpml:globalUseStraightLine>
    <Placemark>
      <Point>
        <!-- Fill longitude and latitude here -->
        <coordinates>
          longitude,latitude
        </coordinates>
      </Point>
      <wpml:index>0</wpml:index>
      <wpml:ellipsoidHeight>90.2</wpml:ellipsoidHeight>
      <wpml:height>100</wpml:height>
      <wpml:useGlobalHeight>1</wpml:useGlobalHeight>
      <wpml:useGlobalSpeed>1</wpml:useGlobalSpeed>
      <wpml:useGlobalHeadingParam>1</wpml:useGlobalHeadingParam>
      <wpml:useGlobalTurnParam>1</wpml:useGlobalTurnParam>
      <wpml:gimbalPitchAngle>0</wpml:gimbalPitchAngle>
    </Placemark>
    <Placemark>
      <Point>
        <!-- Fill longitude and latitude here -->
        <coordinates>
          longitude,latitude
        </coordinates>
      </Point>
      <wpml:index>1</wpml:index>
      <wpml:ellipsoidHeight>90.2</wpml:ellipsoidHeight>
      <wpml:height>100</wpml:height>
      <wpml:useGlobalHeight>1</wpml:useGlobalHeight>
      <wpml:useGlobalSpeed>1</wpml:useGlobalSpeed>
      <wpml:useGlobalHeadingParam>1</wpml:useGlobalHeadingParam>
      <wpml:useGlobalTurnParam>1</wpml:useGlobalTurnParam>
      <wpml:gimbalPitchAngle>0</wpml:gimbalPitchAngle>
      <!-- Declare action group for waypoint 1# -->
      <wpml:actionGroup>
        <wpml:actionGroupId>0</wpml:actionGroupId>
        <wpml:actionGroupStartIndex>1</wpml:actionGroupStartIndex>
        <wpml:actionGroupEndIndex>1</wpml:actionGroupEndIndex>
        <wpml:actionGroupMode>sequence</wpml:actionGroupMode>
        <wpml:actionTrigger>
          <wpml:actionTriggerType>reachPoint</wpml:actionTriggerType>
        </wpml:actionTrigger>
        <!-- Declare the 1st action: rotate gimbal -->
        <wpml:action>
          <wpml:actionId>0</wpml:actionId>
          <wpml:actionActuatorFunc>gimbalRotate</wpml:actionActuatorFunc>
          <wpml:actionActuatorFuncParam>
            <wpml:gimbalRotateMode>absoluteAngle</wpml:gimbalRotateMode>
            <wpml:gimbalPitchRotateEnable>0</wpml:gimbalPitchRotateEnable>
            <wpml:gimbalPitchRotateAngle>0</wpml:gimbalPitchRotateAngle>
            <wpml:gimbalRollRotateEnable>0</wpml:gimbalRollRotateEnable>
            <wpml:gimbalRollRotateAngle>0</wpml:gimbalRollRotateAngle>
            <wpml:gimbalYawRotateEnable>1</wpml:gimbalYawRotateEnable>
            <wpml:gimbalYawRotateAngle>30</wpml:gimbalYawRotateAngle>
            <wpml:gimbalRotateTimeEnable>0</wpml:gimbalRotateTimeEnable>
            <wpml:gimbalRotateTime>0</wpml:gimbalRotateTime>
            <wpml:payloadPositionIndex>0</wpml:payloadPositionIndex>
          </wpml:actionActuatorFuncParam>
        </wpml:action>
        <!-- Declare the 2nd action: take photo -->
        <wpml:action>
          <wpml:actionId>1</wpml:actionId>
          <wpml:actionActuatorFunc>takePhoto</wpml:actionActuatorFunc>
          <wpml:actionActuatorFuncParam>
            <wpml:fileSuffix>point1</wpml:fileSuffix>
            <wpml:payloadPositionIndex>0</wpml:payloadPositionIndex>
          </wpml:actionActuatorFuncParam>
        </wpml:action>
      </wpml:actionGroup>
    </Placemark>
  </Folder>
</Document>
</kml>
```



## Element Description

### Create information (parent element: `<Document>`)

| Element         | Description                         | Type    | Unit | Value | Is it required (default) | Product Support     |
| --------------- | ----------------------------------- | ------- | ---- | ----- | ------------------------ | ------------------- |
| wpml:author     | Author                              | String  | -    | -     | None, not required       | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:createTime | File creation time (Unix Timestamp) | Integer | ms   | -     | None, not required       | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:updateTime | File update time (Unix Timestamp)   | Integer | ms   | -     | None, not required       | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |

### Mission information (parent element: `<wpml:missionConfig>`)

| Element                       | Description                                             | Type             | Unit <div style="width: 50pt"/> | Value                                                        | Is it required (default) | Product Support     |
| ----------------------------- | ------------------------------------------------------- | ---------------- | ----- | ------------------------------------------------------------ | ------------------------ | ------------------- |
| wpml:flyToWaylineMode       | Fly to first waypoint mode                              | string enumerate | -     | `safely`: The aircraft in safe mode<br/> (M300) takes off, ascends to the altitude of the first waypoint, and then flies level to the first waypoint. If the first waypoint is lower than the take-off point, after takeoff, it will level fly to the top of the first waypoint and then descend. <br/> (M30) The aircraft takes off, rises to the altitude of the first waypoint, and then flies level to the first waypoint. If the first waypoint is lower than the "safe take-off altitude", after taking off to the "safe take-off altitude", level flight to the first waypoint and then descend. Note that the "safe takeoff altitude" only takes effect when the aircraft is not taking off. <br/><br/>`pointToPoint`: In tilt flight mode<br/> (M300), after the aircraft takes off, it tilts to the first waypoint. <br/> (M30) The aircraft takes off to the "safe take-off altitude", and then ramps to the first waypoint. If the altitude of the first waypoint is lower than the "safe take-off altitude", it will first level flight and then descend. | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:finishAction           | The action when finish mission                          | string enumerate | -     | `goHome`: After the aircraft completes the route task, exit the route mode and return to home. `noAction`: After the aircraft completes the route task, it exits the route mode. <br/>`autoLand`: After the aircraft completes the route task, it exits the route mode and lands on the spot. <br/>`gotoFirstWaypoint`: After the aircraft completes the route task, it will immediately fly to the starting point of the route, and exit route mode when it arrives. <br/>*Note: During the execution of the above actions, if the aircraft exits the route mode and enters the runaway state, the runaway action will be executed first.* | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:exitOnRCLost            | Whether to continue to execute the route out of control | string enumerate | -     | `goContinue`: Continue to execute the wayline<br/>`executeLostAction`: Exit the route and execute the runaway action | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:executeRCLostAction      | Type of disconnect action                               | string enumerate | -     | `goBack`: Go back. The aircraft is flying from the out-of-control position to the take-off point<br/>`landing`: landing. The aircraft landed in place from an out-of-control position<br/>`hover`: hover. The aircraft is hovering from an out-of-control position |    None. When the `wpml:exitOnRCLost` is `executeLostAction`, it is required.              | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:takeOffSecurityHeight    | Safe takeoff altitude                                   | Float            | m     | For the remote controller, the value range is [1.2,1500]. For the dock, the value range is [8,1500]. (Altitude mode: relative to takeoff point altitude)<br/> *Note: After the aircraft takes off, climb to this altitude first, and then fly to the first waypoint according to the setting of "Fly to the first waypoint mode". This element only takes effect when the aircraft is not taking off.* | Yes                      | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD          |
| wpml:globalTransitionalSpeed  | Global route transition speed                           | Float            | m/s   | > 0<br/>*Note: The speed at which the aircraft flies to the first waypoint of each route. When the route mission is interrupted, the speed of the aircraft recovering from the current position to the interruption point.* | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:takeOffRefPoint<x,y,z>   | reference take-off point                                | Float            | °,  °,  m | [-90,90],[-180,180],unlimited<br/>*Note: <x,y,z> refers to <latitude,longitude,altitude>. "Reference Takeoff Point" is only for reference of route planning. When the aircraft executes the route, the actual takeoff point of the aircraft shall prevail, and the height of the ellipsoid shall be used.* | None, Not Required       | M30/M30T, M3E/M3T/M3M, M3D/M3TD          |
| wpml:takeOffRefPointAGLHeight | The altitude of the reference take-off point            | Float            | m     | *Note: The altitude of "reference take-off point" corresponds to the ellipsoid height in "reference take-off point".* | None, Not Required       | M30/M30T, M3E/M3T/M3M, M3D/M3TD         |
| wpml:droneInfo                | Aircraft type information                               | -                | -     | *Note: Please read detailed information at [Common Elements](https://developer.dji.com/doc/cloud-api-tutorial/en/api-reference/dji-wpml/common-element.html)*                                                            | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:payloadInfo              | Payload information                                     | -                | -     | *Note: Please read detailed information at [Common Elements](https://developer.dji.com/doc/cloud-api-tutorial/en/api-reference/dji-wpml/common-element.html)*                                                            | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:autoRerouteInfo          | Wayline reroute information            | -           | -     | -                                                            | -                  | M3D/M3TD |



### Template information (parent element: `<Folder>`)

#### Template common elements (parent element: `<Folder>`) 

| Element                        | Description                                                  | Type             | Unit | Value                                                        | Is it required (default) | Product Support     |
| ------------------------------ | ------------------------------------------------------------ | ---------------- | ---- | ------------------------------------------------------------ | ------------------------ | ------------------- |
| wpml:templateType              | Predefined Template Type<br/>*Note: Templates provide users with a solution for quickly generating routes. The user fills in the template Element and then imports the DJI support client (such as DJI Pilot) to quickly generate an executable mapping/inspection route.* | string enumerate | -    | `waypoint`<br/>`mapping2d`<br/> `mapping3d`<br/>`mappingStrip` | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:templateId                | Template ID<br/>*Note: This ID is unique within a kmz file. It is recommended to start monotonically and continuously increase from 0. In the template.kml and waylines.wpml files, this id will be used to associate the template with the generated executable routes.* | Integer          | -    | [0, 65535]                                                   | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:autoFlightSpeed           | Global flight speed                                          | Float            | m/s  | (0, the maximum flight speed]<br/>*Note: The maximum flight speed of different models is different. This Element defines the target flight speed of the aircraft in the entire route generated by this template. If an additional The Element of the waypoint, the local definition will override the global definition.* | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:waylineCoordinateSysParam | Coordinate system parameters                                 | -                | -    | -                                                            | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:payloadParam              | Payload parameters                                           | -                | -    | -                                                            | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |

### `<wpml:payloadParam>`

| Element                   | Name             | Type                | unit | Value                                                   | Is it required (default)                                 | Product Support                   |
| ------------------------- | ---------------- | ------------------- | ---- | ------------------------------------------------------------ | -------------------------------------------------- | -------------------------- |
| wpml:payloadPositionIndex | payload position index     | int                | -    | 0: Mounting position 1 on aircraft. For M300 RTK and M350 RTK models, corresponds to the front left side of the fuselage. For other models, corresponds to the main gimbal.<br/>1: Mounting position 2 on aircraft. For M300 RTK and M350 RTK models, corresponds to the front right side of the fuselage.<br/>2: Mounting position 3 on aircraft. For M300 RTK and M350 RTK models, corresponds to the top of the aircraft. | Yes                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:focusMode            | payload focus mode     | enum_string         | -    | firstPoint: Auto-focus on the first waypoint<br/>custom: Focus using calibrated focus value     | - | M300 RTK, M350 RTK           |
| wpml:meteringMode         | payload metering mode     | enum_string         | -    | average: Global metering<br/>spot: Spot metering                         | - | M300 RTK, M350 RTK           |
| wpml:dewarpingEnable      | dewarping enable | bool              | -    | 0: Disabled<br/>1: Enabled                                       | - | M300 RTK, M350 RTK           |
| wpml:returnMode           | LiDAR return mode | enum_string         | -    | singleReturnStrongest: Single return<br/>dualReturn: Dual return<br/>tripleReturn: Triple return | - | M300 RTK, M350 RTK           |
| wpml:samplingRate         | sampling rate       | int               | Hz   | 60000,<br/>80000,<br/>120000,<br/>160000,<br/>180000,<br/>240000 | - | M300 RTK, M350 RTK           |
| wpml:scanningMode         | scanning mode     | enum_string         | -    | repetitive: Repetitive scanning<br/>nonRepetitive: Non-repetitive scanning          | - | M300 RTK, M350 RTK           |
| wpml:modelColoringEnable  | model coloring enable       | bool              |      | 0: No coloring<br/>1: True color coloring                                   | - | M300 RTK, M350 RTK           |
| wpml:imageFormat          | image format list     | enum_string |      | wide: Stores wide-angle lens photos<br/>zoom: Stores zoom lens photos<br/>ir: Stores infrared lens photos<br/>narrow_band: Stores narrow-band lens photos<br/>visible: Visible light photos<br/>* Note: To store photos from multiple lenses, format as "<wpml:imageFormat>wide,ir</wpml:imageFormat>" | Yes                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |


#### Waypoint Flight Template Element (Parent Element: `<Folder>`)

| Element                         | Description                                                  | Type             | Unit | Value                                                        | Is it required (default)                                     | Product Support     |
| ------------------------------- | ------------------------------------------------------------ | ---------------- | ---- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------- |
| wpml:globalWaypointTurnMode     | Global Waypoint Type (Global Waypoint Turn Mode)             | string enumerate | -    | `coordinateTurn`: Coordinate turn, but point, turn ahead<br/>`toPointAndStopWithDiscontinuityCurvature`: Fly in a straight line, the aircraft will stop at the point<br/>`toPointAndStopWithContinuityCurvature`: Curve flight, the aircraft will stop at the point<br/>`toPointAndPassWithContinuityCurvature`: Curve flight, the aircraft will not stop at the point | Yes                                                     | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:globalUseStraightLine      | Whether the global segment trajectory is as close to a straight line as possible | Boolean          |      | 0: The trajectory of the flight segment is a curve in the whole process<br/>1: The trajectory of the flight segment should be as close as possible to the line connecting the two points | Yes<br/>*Note: Required if and only if "wpml:globalWaypointTurnMode" is set to "toPointAndStopWithContinuityCurvature" or "toPointAndPassWithContinuityCurvature". If the Element of a waypoint is additionally defined, the local definition will override the global definition.* | M30/M30T, M3E/M3T/M3M, M3D/M3TD          |
| wpml:gimbalPitchMode            | Gimbal Pitch Control Mode                                    | string enumerate | -    | `manual`: Manual control. When the aircraft is flying from one waypoint to the next, the user can manually control the pitch angle of the gimbal; if there is no user control, the gimbal pitch angle when flying away from the waypoint is maintained. <br/>`usePointSetting`: Set according to each waypoint. When the aircraft flies from one waypoint to the next, the pitch angle of the gimbal transitions evenly to the pitch angle of the next waypoint. | Yes                                                     | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:globalHeight         | Global height of flight route(related to the height of takeoff point)<br/> | float      | m    | -                                                            | Yes                                                     | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:globalWaypointHeadingParam | Global yaw angle mode parameters                             | -                | -    | -                                                            | -                                                            | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| Placemark(Point)                | Waypoint information (including waypoint latitude, longitude and altitude, etc.) | -                | -    | -                                                            | -                                                            | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |

#### Mapping Aerial Template Element (Parent Element: `<Placemark>`)

| Element                      | Description                                                                                                                                                                                                                                                     | Type             | Unit | Value                                                        | Is it required (default) | Product Support     |
| ---------------------------- |-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| ---------------- | ---- | ------------------------------------------------------------ | ------------------------ | ------------------- |
| wpml:caliFlightEnable        | Whether to enable calibration flight<br/>* Note: only applicable to M300 RTK and M350 RTK models                                                                                                                                                                      | Boolean          | -    | 0: Disable<br/>1: Enable, the inertial navigation calibration is automatically performed on the route to ensure the accuracy of the model. At the end of the route, there will be three acceleration and deceleration flights, and the curve of the route will automatically expand outward for acceleration and deceleration flights. If the route is too long, the acceleration and deceleration will be evenly inserted, and the flight time will not exceed 100s after each calibration. | -                        | M300 RTK, M350 RTK             |
| wpml:elevationOptimizeEnable  | Whether to enable elevation optimization                                                                                                                                                                                                                        | Boolean          | -    | 0: Disable<br/>1: Enable, the aircraft will fly to the center of the survey area to collect a set of tilted photos after the flight route is completed to optimize the elevation accuracy. | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:smartObliqueEnable      | Whether to enable Smart Posing<br/>*Note: M300 RTK and M350 RTK models only support P1 camera*                                                                                                                                                                            | Boolean          | -    | 0: Disabled<br/>1: Enabled, the aircraft can take orthophoto and oblique photos by swinging the gimbal during a single aerial photography task. | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD             |
| wpml:smartObliqueGimbalPitch | Smart Pose Capturing Pitch Angle<br/>*Note: M300 RTK and M350 RTK models only support P1 camera*                                                                                                        | Integer          | °    | Corresponding model gimbal swivel range                      | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD             |
| wpml:shootType               | Photo mode (timed or fixed distance)                                                                                                                                                                                                                            | string enumerate | -    | time: take photos at equal time<br/>distance: take photos at equal intervals<br/>*Note: It is recommended to use "time" to take photos at equal time. Define "photographing mode", "overlap rate" and "flying speed" in the template.kml file, and write the interval time or interval distance after calculation into wayslines.wpml.* | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:direction               | route direction                                                                                                                                                                                                                                                 | Integer          | °    | [0, 360]                                                     | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:margin                  | Expansion distance outside the survey area                                                                                                                                                                                                                      | Integer          | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:overlap                 | Overlap rate parameter                                                                                                                                                                                                                                          | -                | -    | -                                                            | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:ellipsoidHeight         | Global route height (ellipsoid height)<br/>*Note: This Element is used in conjunction with "wpml:height", which are expressions of different elevation reference planes at the same location.*                                                                 | Float            | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:height                  | Global route height (EGM96 altitude/relative take-off point height/AGL relative ground height)<br/>*Note: This Element is used in conjunction with "wpml:ellipsoidHeight", which are expressions of different elevation reference planes at the same location.* | Float            | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:facadeWaylineEnable | Whether to enable slope<br/>* Note: This parameter should be used with "LinearRing". After enabling, the height value will be read in ellipsoid. | Boolean | - | 0: Not enable<br/>1: Enable | - | M3E/M3T/M3M |
| Polygon                      | Measurement Polygon<br/>* Note: The format is `<Polygon> <outerBoundaryIs> <LinearRing> <coordinates> longitude,latitude,height longitude,latitude,height longitude,latitude,height </coordinates> </LinearRing> </outerBoundaryIs> </Polygon>`<br/>* Note: When wpml:facadeWaylineEnable is 1, measurement polygon supports aerial plane. For example, `<Polygon> <outerBoundaryIs> <LinearRing> <coordinates> longitude,latitude,300 longitude,latitude,200 longitude,latitude,50 </coordinates> </LinearRing> </outerBoundaryIs> </Polygon>`.  The generated direction of wayline is relative to the endpoint sequence. | -           | -    | -                                                            | -                  | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:mappingHeadingParam | Heading parameter of drone in mapping | - | - | - | - | M3E/M3T/M3M |
| wpml:gimbalPitchMode | Gimbal pitch angle mode | Enum-string | - | manual: manually control the gimbal pitch angle<br/>fixed: fixed as the pitch angle set by users | - | M3E/M3T/M3M |
| wpml:gimbalPitchAngle | Gimbal pitch angle | ° | - | [-90, -30] | *Note: when wpml:gimbalPitchMode is fixed, this value is required element. | M3E/M3T/M3M |

#### Oblique Photography Template Element (Parent Element: `<Placemark>`)

| Element                  | Description                                                  | Type             | Unit | Value                                                        | Is it required (default) | Product Support     |
| ------------------------ | ------------------------------------------------------------ | ---------------- | ---- | ------------------------------------------------------------ | ------------------------ | ------------------- |
| wpml:caliFlightEnable    | Whether to enable calibration flight<br/>*Note: only applicable to M300 RTK and M350 RTK models* | Boolean          | -    | 0: Disable<br/>1: Enable, the inertial navigation calibration is automatically performed on the route to ensure the accuracy of the model. At the end of the route, there will be three acceleration and deceleration flights, and the curve of the route will automatically expand outward for acceleration and deceleration flight. If the route is too long, the acceleration and deceleration will be evenly inserted, and the flight time will not exceed 100s after each calibration. | -                        | M300 RTK, M350 RTK             |
| wpml:inclinedGimbalPitch | Gimbal pitch angle (tilt)                                    | Integer          | °    | *Note: The rotation range of different gimbal is different. The oblique photography template will be generated with five routes, one of which captures orthophoto images and four of which capture oblique images. This Element is used to set the tilt angle of the gimbal during oblique image capture.* | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:inclinedFlightSpeed | route flight speed (tilt)                                    | Float            | m/s  | (0, the maximum flight speed of this aircraft ]<br/>*Note: The maximum flight speed of different aircraft types is different. The oblique photography template will generate five routes, of which 1 captures orthophoto images and 4 capture oblique images. Element is used to set the flying target speed during oblique image acquisition.* | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:shootType           | Photo mode (timed or fixed distance)                         | string enumerate | -    | time: take photos at equal time <br/>distance: take photos at equal intervals<br/>*Note: It is recommended to use "time" to take photos at equal time. Define "photographing mode", "overlap rate" and "flying speed" in the template.kml file, and write the interval time or interval distance after calculation into wayslines.wpml.* | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:direction           | route direction                                              | Integer          | °    | [0, 360]                                                     | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:margin              | Expansion distance outside the survey area                   | Integer          | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:overlap             | Overlap rate parameter                                       | -                | -    | -                                                            | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:ellipsoidHeight     | Global route height (ellipsoid height)<br/>*Note: This Element is used in conjunction with "wpml:height", which are expressions of different elevation reference planes at the same location.* | Float            | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:height              | Global route height (EGM96 altitude/relative take-off point height/AGL relative ground height)<br/>*Note: This Element is used in conjunction with "wpml:ellipsoidHeight", which are expressions of different elevation reference planes at the same location.* | Float            | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| Polygon                  | Survey area polygon<br/>*Note: The format here is "*`<Polygon> <outerBoundaryIs> <LinearRing> <coordinates> longitude,latitude,0 longitude,latitude,0 longitude,latitude,0 </coordinates> </LinearRing> </outerBoundaryIs> </Polygon>`” | -                | -    | -                                                            | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |

#### Waypoint Segment Flight Template Element (Parent Element: `<Placemark>`)

| Element                  | Description                                                  | Type             | Unit | Value                                                        | Is it required (default) | Product Support     |
| ------------------------ | ------------------------------------------------------------ | ---------------- | ---- | ------------------------------------------------------------ | ------------------------ | ------------------- |
| wpml:caliFlightEnable    | Whether to enable calibration flight                         | Boolean          | -    | 0: Disable<br/>1: Enable                                    | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:shootType           | Photo mode (timed or fixed distance)                         | string enumerate | -    | `time`: take photos at equal time <br/>`distance`: take photos at equal intervals* Note: It is recommended to use "time" to take photos at equal time. Define "photographing mode", "overlap rate" and "flying speed" in the template.kml file, and write the interval time or interval distance after calculation into wayslines.wpml. | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:direction           | route direction                                              | Integer          | °    | [0, 360]                                                     | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:margin              | Expansion distance outside the survey area                   | Float            | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:singleLineEnable    | Whether to enable single route flight                        | Boolean          | -    | 0: disable<br/>1: enable                                    | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:cuttingDistance     | Route length of each sub strip                               | Float            | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:boundaryOptimEnable | Whether to enable edge optimization                          | Boolean          | -    | 0: disable<br/>1: enable                                    | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:leftExtend          | Extending distance on the left side of the waypoint segment flight      | Integer          | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:rightExtend         | Extending distance on the right side of the waypoint segment flight     | Integer          | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:includeCenterEnable | whether to include centerline                                | Boolean          | -    | 0: not include<br/>1: include                               | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:overlap             | Overlap rate parameter                                       | -                | -    | -                                                            | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:ellipsoidHeight     | Global route height (ellipsoid height)<br/>*Note: This Element is used in conjunction with "wpml:height", which are expressions of different elevation reference planes at the same location.* | Float            | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:height              | Global route height (EGM96 altitude/relative take-off point height/AGL relative ground height)<br/>*Note: This Element is used in conjunction with "wpml:ellipsoidHeight", which are expressions of different elevation reference planes at the same location.* | Float            | m    | -                                                            | Yes                 | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:stripUseTemplateAltitude     | Whether to open linear flight<br/> *Note: This element should be used with "LineString". When it is opened, the value of height will be converted to ellipsoid height. | bool      | -    | 0: Not open<br/>1: Open                                                            | Yes           | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| LineString               | Waypoint information<br/> *Note: The format is "`<LineString> <coordinates> longitude, latitude, height  longitude, latitude, height  longitude, latitude, height</coordinates> </LineString>`". The value of height will only be read when “wpml:stripUseTemplateAltitude” is opened.| -                | -    | -                                                            | -                        | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |

### Waypoint Info (Parent Element: `<Placemark>`)
| Element                    | Name                                                         | Type  | unit | Value                                                        | Is it required (default)                                     | Product Support    |
| -------------------------- | ------------------------------------------------------------ | ----- | ---- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------ |
| wpml:isRisky                      | Whether is risky point | bool | -  | 0: Normal point, 1: Risky point                                        | -                                                     | M30/M30T, M3D/M3TD |
| Point                      | The format is as follows.`<Point> <coordinates> Longitude, Latitude </coordinates> </Point>` | float | °,°  | [-180,180],[-90,90]                                          | Yes                                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:index                 | Waypoint number.<br/>*Note: This ID is unique within a route. The sequence number must be monotonously and continuously increasing from 0.* | int   | -    | [0, 65535]                                                   | Yes                                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:useGlobalHeight       | Whether to use global height                                 | bool  | -    | 0, 1                                                         | Yes                                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:ellipsoidHeight       | Waypoint height (WGS84 ellipsoid height)<br/>*Note: This element is used in conjunction with "WPML:height", which is an expression of the reference plane at the same position with different elevations.* | float | m    | -                                                            | Yes<br/>*Note: Required if and only if "wpml:useGlobalHeight" is 0.* | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:height                | Waypoint height(EGM96 altitude/relative to take-off /AGL relative to ground)<br/>*Note: This element is used in conjunction with "wpml:ellipsoidHeight", which is an expression of a different elevation reference plane at the same location.* | float | m    | -                                                            | Yes<br/>*Note: Required if and only if "wpml:useGlobalHeight" is 0.* | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:useGlobalSpeed        | Whether to use global flight speed<br/>*Note: The global flight speed is "wpml:autoFlightSpeed".* | bool  | -    | `0`: Do not use <br/>`1`: use                               | Yes                                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:waypointSpeed         | Waypoint flight speed                                        | float | m/s  | (0, Maximum flight speed of this drone]<br/>*Note: Maximum flight speed varies between drones* | Yes<br/>*Note: Required if "wpml:useGlobalSpeed" is 0.*     | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:useGlobalHeadingParam | Whether to use the global yaw mode parameter                 | bool  | -    | 0: do not use<br/>1: use                                    | Yes                                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:waypointHeadingParam  | waypoint heading param                                       | -     | -    | -                                                            | Yes<br/>*Note: Required if “wpml:useGlobalHeadingParam” is 0.* | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:useGlobalTurnParam    | Whether to use global waypoint type (Global waypoint turn mode) | bool  | -    | 0: do not use<br/>1: use                                    | Yes                                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:waypointTurnParam     | waypoint turn param                                          | -     | -    | -                                                            | Yes<br/>*Note: Required if “wpml:useGlobalTurnParam” is 0.* | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:useStraightLine       | Whether the segment fits a straight line                     | bool  | -    | 0: The whole trajectory of the segment is curved<br/>1: The segment trajectory is as close to the line of two points as possible. | Yes<br/>*Note: Required if "waypointTurnMode" in "wpml:waypointTurnParam" is set to "toPointAndStopWithContinuityCurvature" or "toPointAndPassWithContinuityCurvature". If this element is set, local definitions override global definitions.* | M30/M30T, M3E/M3T/M3M, M3D/M3TD         |
| wpml:gimbalPitchAngle      | gimbal pitch angle                                           | float | °    | The gimbal can be rotated to match the model.                | Yes<br/>*Note: Required if “wpml:gimbalPitchMode” is “usePointSetting”.* | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |

### Coordinate Parameter Info (Parent Element: `<wpml:waylineCoordinateSysParam>`)

| Element                      | Name                                                         | Type  | unit | Value                                                        | Is it required (default)                                     | Product Support    |
| ---------------------------- | ------------------------------------------------------------ | ----- | ---- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------ |
| wpml:coordinateMode          | Latitude and longitude coordinate system                     | enum  | -    | WGS84:Current fixed use<br/>`WGS84`                         | Yes                                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:heightMode              | Reference plane for waypoint elevation                       | enum  | -    | `EGM96`: Use the altitude editor.<br/>`relativeToStartPoint`: Editing with relative point heights.<br/>`aboveGroundLevel`: Using topographic data, editing under AGL. (Only supported by FlightHub 2) <br/>realTimeFollowSurface: Using real-time follow surface mode.(Only applies for mapping) Only supported by M3E/M3T/M3M.| Yes                                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:positioningType         | Latitude and longitude and altitude data sources             | enum  | -    | `GPS`: Location data is collected from GPS/BDS/GLONASS/GALILEO etc.<br/>`RTKBaseStation`: When collecting location data, use RTK base station for differential positioning.<br/>`QianXun`: When collecting location data, use Qianxun Network RTK for differential positioning.<br/>`Custom` : When collecting location data, use custom RTK for differential positioning. | No<br/>*Note:This element is only used to mark the source of the location data and does not affect the actual route execution.* | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:globalShootHeight       | Height of the aircraft above the subject surface (relative to ground height)<br/>*Note: Only available for template types mapping2d, mapping3d, mappingStrip.* | float | m    | Used to calculate photo spacing and GSD                      | Yes                                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:surfaceFollowModeEnable | Whether or not to start the surface following mode flight.<br/>*Note: Only available for template types mapping2d, mapping3d, mappingStrip.* | bool  | -    | `0`: disable<br>                                             | Yes                                                          | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:surfaceRelativeHeight   | Surface following mode flight height above the ground (high relative to the ground).<br/>*Note: Only available for template types mapping2d, mapping3d, mappingStrip.* | float | m    | -                                                            | Yes<br/>*Note: Required if wpml:surfaceFollowModeEnable is 1.* | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |


#### Overlap Rate Information (Parent Element: `<wpml:overlap>`)

| Element                      | Name                                                         | Type  | unit | Value                                                        | Is it required (default)                                     | Product Support    |
| --------------------------- | ------------------------ | ---- | ------ | ---------- | ------------------ | ----------------------------------------- |
| wpml:orthoLidarOverlapH     | Forward Overlap (LiDAR/Ortho)   | Integer | Percentage | [0, 100]   | -                  | M300 RTK, M350 RTK                        |
| wpml:orthoLidarOverlapW     | Side Overlap (LiDAR/Ortho)   | Integer | Percentage | [0, 100]   | -                  | M300 RTK, M350 RTK                        |
| wpml:orthoCameraOverlapH    | Forward Overlap (Visible/Ortho) | Integer | Percentage | [0, 100]   | -                  | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:orthoCameraOverlapW    | Side Overlap (Visible/Ortho) | Integer | Percentage | [0, 100]   | -                  | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:inclinedLidarOverlapH  | Forward Overlap (LiDAR/Oblique)   | Integer | Percentage | [0, 100]   | -                  | M300 RTK, M350 RTK                        |
| wpml:inclinedLidarOverlapW  | Side Overlap (LiDAR/Oblique)   | Integer | Percentage | [0, 100]   | -                  | M300 RTK, M350 RTK                        |
| wpml:inclinedCameraOverlapH | Forward Overlap (Visible/Oblique) | Integer | Percentage | [0, 100]   | -                  | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |
| wpml:inclinedCameraOverlapW | Side Overlap (Visible/Oblique) | Integer | Percentage | [0, 100]   | -                  | M300 RTK, M350 RTK, M30/M30T, M3E/M3T/M3M, M3D/M3TD |

#### Orientation Parameter of Drone in Mapping (Parent Element: `<wpml:mappingHeadingParam>`) 

| Element                      | Name                                                         | Type  | unit | Value                                                        | Is it required (default)                                     | Product Support    |
| ------------------------ | ---------------- | ----------- | ---- | ------------------------------------------------------------ | ------------------------------------------------------- | ----------- |
| wpml:mappingHeadingMode  | Yaw angle mode of drone | Enum-string | -    | fixed: fixed as the yaw angle set by users<br/>followWayline: yaw angle follows the wayline | -                                                       | M3E/M3T/M3M, M3D/M3TD |
| wpml:mappingHeadingAngle | Yaw angle of drone     | Integer        | °    | [0, 360]                                                     | *Note: when wpml:mappingHeadingMode is fixed, this value is required. | M3E/M3T/M3M, M3D/M3TD |
